(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(9388)}])},9388:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return H},"default":function(){return I}});var d=c(5893),e=c(7294),f=c(5396),g=c.n(f);function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(){return(i=(function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}})(regeneratorRuntime.mark(function a(){var b,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=new RadioBrowserApi("frontend demo - dev mode"),a.next=3,b.searchStations({countryCode:"CL",limit:50});case 3:return c=a.sent,a.abrupt("return",c);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}c(8520),c(7402),c(821);var j=c(1043),k=function(){return(0,j.I0)()},l=j.v9,m=c(8465);function n(a){var b=k(),c=(0,e.useState)("icon-pause"),f=c[0],h=c[1],i=(0,e.useState)(a.station),j=i[0],l=i[1],m=(0,e.useState)(!1),n=m[0],o=m[1],p=(0,e.useMemo)(function(){var a=new Audio(j.urlResolved);return a.autoplay=!1,a.preload="none",a.load(),a},[j]);return(0,e.useEffect)(function(){a.station.id!=j.id&&(console.log("son diferentes"),p.pause(),p.removeAttribute("src"),p.load(),l(a.station),o(a.playing)),o(a.playing)},[a,j,p]),(0,e.useEffect)(function(){n?h("icon-pause"):h("icon-play")},[n]),(0,e.useEffect)(function(){n?p.play():p.pause()},[n,p]),(0,d.jsxs)("section",{className:"block ".concat(g().wrapper),children:[(0,d.jsx)("div",{className:g().image,children:(0,d.jsx)("img",{src:j.favicon,alt:"logo radio "})}),(0,d.jsx)("h1",{className:g().info,children:j.name}),(0,d.jsx)("span",{className:"".concat(f," ").concat(g().toggle),onClick:function(){b({type:"@media/toggle"})}})]})}function o(){var a=l(m.w.mediaPlayer),b=(0,e.useState)(a.station),c=b[0],f=b[1],g=(0,e.useState)(a.playing),h=g[0],i=g[1];return((0,e.useEffect)(function(){f(a.station),i(a.playing)},[a]),void 0==c)?null:(0,d.jsx)(n,{station:c,playing:h})}var p=c(1993),q=c.n(p);function r(a){var b=k(),c=l(m.w.mediaPlayer),f=(0,e.useState)(a.favicon),g=f[0],h=f[1];return(0,e.useEffect)(function(){a.favicon||h("/default/favicon.png")},[a.favicon]),(0,d.jsxs)("div",{className:"".concat(q().wrapper," shadow"),children:[(0,d.jsxs)("section",{className:q().info,children:[(0,d.jsx)("span",{className:"content ".concat(q().name),children:a.name}),(0,d.jsx)("span",{className:"content ".concat(q().id),children:a.id})]}),(0,d.jsx)("section",{className:q().control,onClick:function(){c.station&&c.station.id==a.id?b({type:"@media/toggle"}):b({type:"@media/start",payload:a})},children:(0,d.jsx)("span",{className:q().image_container,children:(0,d.jsx)("img",{src:g,className:q().image,alt:"logo",onError:function(){h("/default/favicon.png")}})})})]})}var s=c(7385),t=c.n(s),u=c(9008);function v(){return(0,d.jsxs)(u.default,{children:[(0,d.jsx)("title",{children:"Radio"}),(0,d.jsx)("meta",{name:"description",content:"Frontend demo using radio-browser API "}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})}var w=c(5988),x=c(650),y=c.n(x);function z(){var a=(0,e.useState)(),b=a[0],c=a[1],f=k(),g=l(m.w.colorSchema),h={wrapper:y().wrapper,container:y().container.concat(" block-reverse shadow"),dark:y().dark.concat(" icon-dark icon"),light:y().light.concat(" icon-light icon"),circle:y().switch.concat(" switch icon block")};return(0,e.useEffect)(function(){switch(g){case"color-schema--dark":c("right");break;default:c("left");break}},[g]),(0,d.jsx)("div",{className:h.wrapper,onClick:function(){return f({type:"@color-schema/toggle"})},children:(0,d.jsxs)("span",{className:w.default.dynamic([["a074606aeb435d35",[b]]])+" "+(h.container||""),children:[(0,d.jsx)("span",{className:w.default.dynamic([["a074606aeb435d35",[b]]])+" "+(h.dark||"")}),(0,d.jsx)("span",{className:w.default.dynamic([["a074606aeb435d35",[b]]])+" "+(h.light||"")}),(0,d.jsx)("span",{className:w.default.dynamic([["a074606aeb435d35",[b]]])+" "+(h.circle||"")}),(0,d.jsx)(w.default,{id:"a074606aeb435d35",dynamic:[b],children:".switch.__jsx-style-dynamic-selector {".concat(b,":0}")})]})})}var A=c(4585),B=c.n(A);function C(){var a=(0,e.useState)("collapse"),b=a[0],c=a[1];return"collapse"===b?(0,d.jsxs)("nav",{className:"".concat(B().collapse," block "),children:[(0,d.jsx)("span",{className:"".concat(B().icon," icon icon-collapse"),onClick:function(){return c("expand")}}),(0,d.jsx)("div",{className:B().colorSchemaSwitch,children:(0,d.jsx)(z,{})})]}):(0,d.jsxs)("nav",{className:"".concat(B().expand," block"),children:[(0,d.jsx)("span",{className:"".concat(B().icon," icon icon-expand"),onClick:function(){return c("collapse")}}),(0,d.jsx)("div",{className:B().colorSchemaSwitch,children:(0,d.jsx)(z,{})}),(0,d.jsxs)("ul",{className:B().items,children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"",className:"content link",children:"Menu item 1"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"",className:"content link",children:"Menu item 2"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"",className:"content link",children:"Menu item 3"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"",className:"content link",children:"Menu item 4"})})]})]})}var D=c(3933),E=c.n(D);function F(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function G(a){var b=l(m.w.colorSchema);return(0,d.jsxs)("div",{className:"".concat(E().wrapper," ").concat(b),children:[(0,d.jsx)(v,{}),(0,d.jsx)(C,{}),(0,d.jsx)(o,{}),(0,d.jsx)("header",{className:"block content ".concat(E().header),children:(0,d.jsx)("h1",{children:"Demo Radio"})}),(0,d.jsx)("section",{className:"block content ".concat(E().favorites),children:"Favoritos"}),(0,d.jsx)("section",{className:"block ".concat(E().stations),children:a.stations.map(function(a){return(0,d.jsx)(r,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){F(a,b,c[b])})}return a}({},a),a.id)})}),(0,d.jsx)("footer",{className:"block ".concat(E().footer),children:"footer"})]})}var H=!0,I=function(a){var b=(0,e.useState)(JSON.parse(a.data.stations))[0];return(0,d.jsx)(G,{stations:b})}},650:function(a){a.exports={wrapper:"style_wrapper__P031M",container:"style_container__7ECeY",light:"style_light__KHYSd",dark:"style_dark___v68Y","switch":"style_switch__jhQLP"}},7385:function(a){a.exports={container:"style_container__q0ADa",text:"style_text__Pw7EZ"}},5396:function(a){a.exports={wrapper:"style_wrapper__qvvr0",image:"style_image__x8_Gk",info:"style_info__Tcrut",toggle:"style_toggle__XUdyQ"}},4585:function(a){a.exports={expand:"style_expand__auiQI",collapse:"style_collapse__PfDDl",icon:"style_icon__5jznR",colorSchemaSwitch:"style_colorSchemaSwitch__wuPwD",items:"style_items__d5R6P"}},1993:function(a){a.exports={wrapper:"style_wrapper___lalu",control:"style_control__B0gDb",info:"style_info__PEhIU",id:"style_id__4Rd7T",name:"style_name__PVF9H",image_container:"style_image_container__FHu4l",image:"style_image__vmLtt"}},3933:function(a){a.exports={wrapper:"style_wrapper__gqXIE",header:"style_header__AYKJY",favorites:"style_favorites__P_SlE",stations:"style_stations__Z73zR",footer:"style_footer__7ogSE"}}},function(a){a.O(0,[736,774,888,179],function(){return a(a.s=5301)}),_N_E=a.O()}])